<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page with Find in Page - Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
        }
        
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .sidebar-container {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 400px;
            height: 600px;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            background: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 1000;
        }
        
        .sidebar-frame {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 6px;
        }
        
        h1 {
            color: #1f2937;
            margin-bottom: 20px;
            font-size: 2.5rem;
        }
        
        h2 {
            color: #374151;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        p {
            color: #4b5563;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .demo-section {
            background: #f3f4f6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3b82f6;
        }
        
        .instructions {
            background: #dbeafe;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2563eb;
        }
        
        .instructions h3 {
            color: #1e40af;
            margin-top: 0;
        }
        
        .instructions ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .instructions li {
            margin: 5px 0;
            color: #1e3a8a;
        }
        
        .sample-text {
            background: #fef3c7;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 4px solid #f59e0b;
        }
        
        .keyword {
            background: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 500;
        }
        
        .demo-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.2s;
        }
        
        .demo-button:hover {
            background: #2563eb;
        }
        
        .demo-button.secondary {
            background: #6b7280;
        }
        
        .demo-button.secondary:hover {
            background: #4b5563;
        }
        
        .youtube-simulator {
            background: #000;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .video-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .video-info {
            font-size: 0.9rem;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- Simulated YouTube Video -->
    <div class="youtube-simulator">
        <div class="video-title">How to Build a Web Application with JavaScript</div>
        <div class="video-info">By Tech Tutorials ‚Ä¢ 1.2M views ‚Ä¢ 2 years ago</div>
        <p>This comprehensive tutorial covers everything you need to know about building modern web applications using JavaScript, HTML, and CSS. We'll explore advanced concepts like asynchronous programming, DOM manipulation, and responsive design.</p>
    </div>
    
    <div class="main-content">
        <h1>üîç Find in Page Demo - Main Page</h1>
        
        <div class="instructions">
            <h3>How This Works:</h3>
            <ul>
                <li>The <strong>sidebar</strong> is in the top-right corner (simulating your extension)</li>
                <li>Click the <strong>search button</strong> in the sidebar to open find-in-page</li>
                <li>The find toolbar appears <strong>directly on this main page</strong></li>
                <li>No new windows or tabs are opened</li>
                <li>You can also press <strong>Ctrl+F</strong> to open the find toolbar</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin: 30px 0;">
            <button class="demo-button" onclick="window.findInPageContent.show()">Open Find Toolbar (Direct)</button>
            <button class="demo-button secondary" onclick="window.findInPageContent.hide()">Close Find Toolbar</button>
        </div>
        
        <h2>Sample Content for Testing</h2>
        
        <p>This page simulates a YouTube video page with various content to test the find functionality. You can search for common words like <span class="keyword">JavaScript</span>, <span class="keyword">HTML</span>, <span class="keyword">CSS</span>, or any other text on this page.</p>
        
        <div class="demo-section">
            <h3>JavaScript Programming</h3>
            <p>JavaScript is a versatile programming language that runs in web browsers. It's used for creating interactive websites, web applications, and even server-side applications with Node.js. JavaScript supports object-oriented programming, functional programming, and event-driven programming paradigms.</p>
            <p>The language has evolved significantly over the years, from simple client-side scripting to a powerful tool for building complex applications. Modern JavaScript includes features like classes, modules, async/await, and many other advanced capabilities.</p>
        </div>
        
        <div class="sample-text">
            <h3>HTML and CSS</h3>
            <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages. It provides the structure and content of web documents. CSS (Cascading Style Sheets) is used to style and layout web pages, controlling the visual presentation of HTML elements.</p>
            <p>Together, HTML and CSS form the foundation of web development. HTML defines the structure and content, while CSS handles the presentation and styling. This separation of concerns makes web development more maintainable and flexible.</p>
        </div>
        
        <h2>More Sample Text</h2>
        
        <p>Here's some additional content with repeated words to test the find functionality. The word <span class="keyword">JavaScript</span> appears multiple times throughout this document, as does the word <span class="keyword">programming</span>. You can also search for phrases like "web development" or "programming language".</p>
        
        <p>Testing the find functionality with various types of content is important. This includes:</p>
        <ul>
            <li>Regular text content</li>
            <li>Words within <span class="keyword">HTML</span> elements</li>
            <li>Text in different sections</li>
            <li>Repeated words and phrases</li>
            <li>Case-sensitive searches</li>
            <li>Whole word matching</li>
        </ul>
        
        <div class="demo-section">
            <h3>Advanced Features</h3>
            <p>The find toolbar supports several advanced features:</p>
            <ul>
                <li><strong>Case Sensitive:</strong> Toggle to match exact case</li>
                <li><strong>Whole Word:</strong> Only match complete words</li>
                <li><strong>Navigation:</strong> Use buttons or keyboard shortcuts</li>
                <li><strong>Highlighting:</strong> All matches are highlighted with the current match emphasized</li>
                <li><strong>Status:</strong> Shows current position and total matches</li>
            </ul>
        </div>
        
        <h2>Final Section</h2>
        
        <p>This is the final section of sample content. It contains more instances of <span class="keyword">JavaScript</span> and <span class="keyword">programming</span> to test the find functionality thoroughly. The toolbar should be able to find all instances of these words and allow you to navigate between them easily.</p>
        
        <p>Remember that the find toolbar appears as a floating element in the top-right corner of the page. It doesn't interfere with the page content and can be easily closed when you're done searching.</p>
        
        <div class="sample-text">
            <p><strong>Tip:</strong> Try searching for "JavaScript" with case sensitivity enabled to see how it affects the results. You can also test whole word matching by searching for "prog" vs "programming" with the whole word option enabled.</p>
        </div>
    </div>
    
    <!-- Sidebar Container (simulating the extension sidebar) -->
    <div class="sidebar-container">
        <iframe src="sidebar/sidebar.html" class="sidebar-frame"></iframe>
    </div>
    
    <!-- Load the Find in Page Content Script -->
    <script src="content-scripts/find-in-page-content.js"></script>
    
    <script>
        // Additional demo functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Find in Page Content Script loaded!');
            console.log('Press Ctrl+F to open the toolbar');
            console.log('Or click the search button in the sidebar');
            
            // Add some interactive elements
            const keywords = document.querySelectorAll('.keyword');
            keywords.forEach(keyword => {
                keyword.style.cursor = 'pointer';
                keyword.addEventListener('click', function() {
                    const text = this.textContent;
                    window.findInPageContent.show();
                    setTimeout(() => {
                        window.findInPageContent.input.value = text;
                        window.findInPageContent.performSearch();
                    }, 100);
                });
            });
            
            // Simulate receiving message from sidebar
            window.addEventListener('message', function(event) {
                if (event.data.type === 'openFindInPage') {
                    console.log('Received message from sidebar to open find toolbar');
                    window.findInPageContent.show();
                }
            });
        });
    </script>
</body>
</html> 